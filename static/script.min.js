function isFloat(e){var t=event.which?event.which:event.keyCode;return!(46!=t&&t>31&&(t<48||t>57))&&!(e.srcElement.value.split(".").length>1&&46==t)}function textcol(e){if(7!==e.length||"#"!==e[0])throw Error("Colour is not a valid hex string");const t=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5),16);let[l,c,n]=[!1,!1,!1];return t<=105&&(l=!0),r<=105&&(c=!0),o<=105&&(n=!0),!0==!(l&&c||c&&n||n&&l)?"#000000":"#ffffff"}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".output").forEach(e=>{e.style.width=parseInt(window.innerWidth-290)}),document.querySelector("#type").onchange=(()=>{"Comp"===document.querySelector("#type").value?(document.querySelector("#system").innerHTML='<option value="EvN">EAQI vs NAQI</option><option value="EvM">EAQI vs MMAQI</option><option value="MvN">MMAQI vs NAQI</option>',document.querySelector("#co").style.display="block",document.querySelectorAll(".output").forEach(e=>{e.innerHTML=""})):(document.querySelector("#system").innerHTML='<option value="EAQI">EAQI</option><option value="NAQI">NAQI</option><option value="MMAQI">MMAQI</option>',document.querySelector("#co").style.display="none",document.querySelector("#valueCO").value="",document.querySelectorAll(".output").forEach(e=>{e.innerHTML=""}))}),document.querySelector("#input").addEventListener("reset",()=>{document.querySelectorAll(".output").forEach(e=>{e.innerHTML=""}),document.querySelector("#type").value="SI",document.querySelector("#system").innerHTML='<option value="EAQI">EAQI</option><option value="NAQI">NAQI</option><option value="MMAQI">MMAQI</option>s',document.querySelector("#co").style.display="none",document.getElementById("message").children[0].innerHTML=""}),document.querySelector("#system").onchange=(()=>{document.querySelectorAll(".output").forEach(e=>{e.innerHTML=""}),document.querySelector("#result3").style.backgroundColor="#e0e2db",document.querySelector("#result3").color="black","SI"===document.querySelector("#type").value&&"EAQI"===document.querySelector("#system").value?(document.querySelector("#co").style.display="none",ddocument.querySelector("#valueCO").value=""):document.querySelector("#co").style.display="block"}),document.querySelector("#submit").onclick=(()=>{let e={pm2:convert("pm2",parseInt(document.querySelector("#valuePM2").value),document.querySelector("#unitPM2").value),pm10:convert("pm10",parseInt(document.querySelector("#valuePM10").value),document.querySelector("#unitPM10").value),no2:convert("no2",parseInt(document.querySelector("#valueNO2").value),document.querySelector("#unitNO2").value),so2:convert("so2",parseInt(document.querySelector("#valueSO2").value),document.querySelector("#unitSO2").value),o3:convert("o3",parseInt(document.querySelector("#valueO3").value),document.querySelector("#unitO3").value),co:convert("co",parseInt(document.querySelector("#valueCO").value),document.querySelector("#unitCO").value)};for(const t in e)isNaN(e[t])&&delete e[t];if(0!==Object.keys(e).length){var t=new dict(Object.keys(e),Object.values(e));type=document.querySelector("#type").value,system=document.querySelector("#system").value,document.querySelector("#input").reset(),"Comp"===type?1===t.keys.length&&"co"===t.keys[0]?document.getElementById("message").children[0].innerHTML="Atleast 1 field other than CO required":(document.getElementById("message").children[0].innerHTML="","EvN"===system?(A=new Eaqi(t),A.setres(),A.setdes(),A.setcol(),O=new Naqi(t),O.setres(),O.setdes(),O.setcol(),idx=A.idx,res=O.res,document.querySelector("#result2").innerHTML=`NAQI<br>${res}<br>${O.des.replace(/\n/g,"<br>")}`,document.querySelector("#result2").style.backgroundColor=O.col,document.querySelector("#result2").style.color=textcol(O.col),document.querySelector("#result1").innerHTML=`EAQI<br>${A.res}<br>${A.des.replace(/\n/g,"<br>")}`,document.querySelector("#result1").style.backgroundColor=A.col,document.querySelector("#result1").style.color=textcol(A.col),res<500&&(b=compare([idx,6],[res,500]),b>0?document.querySelector("#result3").innerHTML=`NAQI is ${b}% less than EAQI`:document.querySelector("#result3").innerHTML=`NAQI is ${b}% greater than EAQI`)):"EvM"===system?(A=new Eaqi(t),A.setres(),A.setdes(),A.setcol(),O=new Mmaqi(t),O.setres(),O.setdes(),O.setcol(),idx=A.idx,res=O.res,document.querySelector("#result2").innerHTML=`MMAQI<br>${res}<br>${O.des.replace(/\n/g,"<br>")}`,document.querySelector("#result2").style.backgroundColor=O.col,document.querySelector("#result2").style.color=textcol(O.col),document.querySelector("#result1").innerHTML=`EAQI<br>${A.res}<br>${A.des.replace(/\n/g,"<br>")}`,document.querySelector("#result1").style.backgroundColor=A.col,document.querySelector("#result1").style.color=textcol(A.col),res<500&&(b=compare([idx,6],[res,500]),b>0?document.querySelector("#result3").innerHTML=`MMAQI is ${b}% less than EAQI`:document.querySelector("#result3").innerHTML=`MMAQI is ${b}% greater than EAQI`)):"MvN"===system&&(A=new Naqi(t),A.setres(),A.setdes(),A.setcol(),O=new Mmaqi(t),O.setres(),O.setdes(),O.setcol(),resn=A.res,resm=O.res,document.querySelector("#result1").innerHTML=`MMAQI<br>${resm}<br>${O.des.replace(/\n/g,"<br>")}`,document.querySelector("#result1").style.backgroundColor=O.col,document.querySelector("#result1").style.color=textcol(O.col),document.querySelector("#result2").innerHTML=`NAQI<br>${resn}<br>${A.des.replace(/\n/g,"<br>")}`,document.querySelector("#result2").style.backgroundColor=A.col,document.querySelector("#result2").style.color=textcol(A.col),maxn=500,maxm=500,b=compare([resm,maxm],[resn,maxn]),b>=0?document.querySelector("#result3").innerHTML=`NAQI is ${b}% less than MMAQI`:document.querySelector("#result3").innerHTML=`NAQI is ${b}% greater than MMAQI`)):(document.getElementById("message").children[0].innerHTML="","EAQI"===system?(A=new Eaqi(t),A.setres(),A.setdes(),A.setcol(),document.querySelectorAll(".output").forEach(e=>{"result3"!==e.id&&(e.style.backgroundColor=A.col,e.style.color=textcol(A.col)),e.style.display="block"}),document.querySelector("#result1").innerHTML=A.res,document.querySelector("#result2").innerHTML=A.des.replace(/\n/g,"<br>")):"NAQI"===system?(A=new Naqi(t),A.setres(),A.setdes(),A.setcol(),document.querySelectorAll(".output").forEach(e=>{"result3"!==e.id&&(e.style.backgroundColor=A.col,e.style.color=textcol(A.col)),e.style.display="block"}),document.querySelector("#result1").innerHTML=A.res,document.querySelector("#result2").innerHTML=A.des.replace(/\n/g,"<br>")):(A=new Mmaqi(t),A.setres(),A.setdes(),A.setcol(),document.querySelectorAll(".output").forEach(e=>{"result3"!==e.id&&(e.style.backgroundColor=A.col,e.style.color=textcol(A.col)),e.style.display="block"}),document.querySelector("#result1").innerHTML=A.res,document.querySelector("#result2").innerHTML=A.des.replace(/\n/g,"<br>")))}})});